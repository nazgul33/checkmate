<html>
<head>
    <meta charset="utf-8" />
    <title>Impala</title>
    <style type="text/css">
    @import '/static/css/iphc.css';
    </style>

    <script src="/static/js/iphc.js"></script>
</head>
<body>
    <H1>Servers</H1>
    <div id="impala_servers">
    </div>

    <H1>queries</H1>
    <div id="impala_queries">
    </div>
</body>

<script type="text/javascript">
function loadServers() {
    $.getJSON("/api/v1/impala/impalad_status", function(result) {
        if (result.status == "ok") {
            var table = "<table class=\"info_table\">\n<tr><th>Server</th><th>last active</th><th>active since</th></tr>\n";
            for (server in result.value) {
                table += "<tr><td>" + server + "</td><td>" + result.value[server].updated + "</td><td>" + result.value[server].first_seen + "</td></tr>\n";
            }
            table += "</table>";
            $('#impala_servers').html(table);
        }
    });
}

$(function() {
    loadServers();
});
</script>
</html>
